<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Servicio de Reportes - API</title>
  <link rel="stylesheet" href="index.css">
</head>
<body>
<div class="container">
  <h1>Servicio de Reportes - Endpoints Disponibles</h1>

  <div class="info-box">
    <h2>Informaci칩n Importante</h2>
    <p><strong>Arquitectura:</strong> Este microservicio consume datos de otros microservicios via HTTP:</p>
    <ul>
      <li><code>usuarios-service</code> (puerto 8081): Voluntarios y Organizaciones</li>
      <li><code>proyectos-service</code> (puerto 8082): Proyectos y Categor칤as</li>
      <li><code>inscripciones-service</code> (puerto 8083): Inscripciones</li>
    </ul>

    <p style="margin-top: 10px;"><strong>Puerto del servicio:</strong> <code>http://localhost:8085</code></p>
  </div>

  <div class="endpoints-grid">
    <!-- Dashboard -->
    <div class="endpoint-card">
      <h3>游늵 Dashboard General</h3>
      <p>Estad칤sticas generales del sistema con totales, agrupaciones y top rankings</p>
      <div class="url">
        <span class="method">GET</span>
        /api/reportes/dashboard
      </div>
      <button onclick="testEndpoint('/api/reportes/dashboard', 'response1')">
        Probar Endpoint
      </button>
      <pre id="response1" class="response"></pre>
    </div>

    <!-- Todos los Voluntarios -->
    <div class="endpoint-card">
      <h3>Todos los Voluntarios</h3>
      <p>Lista completa de voluntarios con estad칤sticas de inscripciones por estado</p>
      <div class="url">
        <span class="method">GET</span>
        /api/reportes/voluntarios
      </div>
      <button onclick="testEndpoint('/api/reportes/voluntarios', 'response2')">
        Probar Endpoint
      </button>
      <pre id="response2" class="response"></pre>
    </div>

    <!-- Top Voluntarios -->
    <div class="endpoint-card">
      <h3>Top Voluntarios</h3>
      <p>Los 5 voluntarios m치s activos del sistema (puedes cambiar el n칰mero con ?top=N)</p>
      <div class="url">
        <span class="method">GET</span>
        /api/reportes/voluntarios?top=5
      </div>
      <button onclick="testEndpoint('/api/reportes/voluntarios?top=5', 'response3')">
        Probar Endpoint
      </button>
      <pre id="response3" class="response"></pre>
    </div>

    <!-- Voluntario Espec칤fico -->
    <div class="endpoint-card">
      <h3>Voluntario Espec칤fico</h3>
      <p>Reporte detallado de un voluntario por su ID (ejemplo: ID=1)</p>
      <div class="url">
        <span class="method">GET</span>
        /api/reportes/voluntarios?id=1
      </div>
      <button onclick="testEndpoint('/api/reportes/voluntarios?id=1', 'response4')">
        Probar Endpoint
      </button>
      <pre id="response4" class="response"></pre>
    </div>

    <!-- Todos los Proyectos -->
    <div class="endpoint-card">
      <h3>Todos los Proyectos</h3>
      <p>Lista de proyectos con ocupaci칩n, voluntarios inscritos y porcentajes</p>
      <div class="url">
        <span class="method">GET</span>
        /api/reportes/proyectos
      </div>
      <button onclick="testEndpoint('/api/reportes/proyectos', 'response5')">
        Probar Endpoint
      </button>
      <pre id="response5" class="response"></pre>
    </div>

    <!-- Top Proyectos -->
    <div class="endpoint-card">
      <h3>Top Proyectos Populares</h3>
      <p>Los 5 proyectos con mayor porcentaje de ocupaci칩n</p>
      <div class="url">
        <span class="method">GET</span>
        /api/reportes/proyectos?top=5
      </div>
      <button onclick="testEndpoint('/api/reportes/proyectos?top=5', 'response6')">
        Probar Endpoint
      </button>
      <pre id="response6" class="response"></pre>
    </div>

    <!-- Proyecto Espec칤fico -->
    <div class="endpoint-card">
      <h3>Proyecto Espec칤fico</h3>
      <p>Reporte detallado de un proyecto por su ID (ejemplo: ID=1)</p>
      <div class="url">
        <span class="method">GET</span>
        /api/reportes/proyectos?id=1
      </div>
      <button onclick="testEndpoint('/api/reportes/proyectos?id=1', 'response7')">
        Probar Endpoint
      </button>
      <pre id="response7" class="response"></pre>
    </div>

    <!-- Proyectos por Categor칤a -->
    <div class="endpoint-card">
      <h3>Proyectos por Categor칤a</h3>
      <p>Proyectos agrupados por sus categor칤as (Educaci칩n, Salud, etc.)</p>
      <div class="url">
        <span class="method">GET</span>
        /api/reportes/proyectos?porCategoria=true
      </div>
      <button onclick="testEndpoint('/api/reportes/proyectos?porCategoria=true', 'response8')">
        Probar Endpoint
      </button>
      <pre id="response8" class="response"></pre>
    </div>

    <!-- Reporte de Categor칤as -->
    <div class="endpoint-card">
      <h3>Reporte de Categor칤as</h3>
      <p>Todas las categor칤as con conteo de proyectos ordenadas por popularidad</p>
      <div class="url">
        <span class="method">GET</span>
        /api/reportes/categorias
      </div>
      <button onclick="testEndpoint('/api/reportes/categorias', 'response9')">
        Probar Endpoint
      </button>
      <pre id="response9" class="response"></pre>
    </div>

    <!-- Reporte General de Inscripciones -->
    <div class="endpoint-card">
      <h3>Reporte General de Inscripciones</h3>
      <p>Estad칤sticas generales de inscripciones, tasas de aprobaci칩n y proyectos m치s solicitados</p>
      <div class="url">
        <span class="method">GET</span>
        /api/reportes/inscripciones
      </div>
      <button onclick="testEndpoint('/api/reportes/inscripciones', 'response10')">
        Probar Endpoint
      </button>
      <pre id="response10" class="response"></pre>
    </div>

    <!-- Inscripciones por Estado -->
    <div class="endpoint-card">
      <h3>Inscripciones por Estado</h3>
      <p>Inscripciones agrupadas por estado (Aprobada, En revisi칩n, Rechazada)</p>
      <div class="url">
        <span class="method">GET</span>
        /api/reportes/inscripciones?porEstado=true
      </div>
      <button onclick="testEndpoint('/api/reportes/inscripciones?porEstado=true', 'response11')">
        Probar Endpoint
      </button>
      <pre id="response11" class="response"></pre>
    </div>

    <!-- Todas las Organizaciones -->
    <div class="endpoint-card">
      <h3>Todas las Organizaciones</h3>
      <p>Lista completa de organizaciones con proyectos y voluntarios</p>
      <div class="url">
        <span class="method">GET</span>
        /api/reportes/organizaciones
      </div>
      <button onclick="testEndpoint('/api/reportes/organizaciones', 'response12')">
        Probar Endpoint
      </button>
      <pre id="response12" class="response"></pre>
    </div>

    <!-- Top Organizaciones -->
    <div class="endpoint-card">
      <h3>Top Organizaciones Activas</h3>
      <p>Las 5 organizaciones con m치s proyectos y voluntarios</p>
      <div class="url">
        <span class="method">GET</span>
        /api/reportes/organizaciones?top=5
      </div>
      <button onclick="testEndpoint('/api/reportes/organizaciones?top=5', 'response13')">
        Probar Endpoint
      </button>
      <pre id="response13" class="response"></pre>
    </div>

    <!-- Organizaci칩n Espec칤fica -->
    <div class="endpoint-card">
      <h3>Organizaci칩n Espec칤fica</h3>
      <p>Reporte detallado de una organizaci칩n por ID (ejemplo: ID=1)</p>
      <div class="url">
        <span class="method">GET</span>
        /api/reportes/organizaciones?id=1
      </div>
      <button onclick="testEndpoint('/api/reportes/organizaciones?id=1', 'response14')">
        Probar Endpoint
      </button>
      <pre id="response14" class="response"></pre>
    </div>

    <!-- Organizaciones por Tipo -->
    <div class="endpoint-card">
      <h3>Organizaciones por Tipo</h3>
      <p>Organizaciones agrupadas por tipo (Ambiental, Educativa, etc.)</p>
      <div class="url">
        <span class="method">GET</span>
        /api/reportes/organizaciones?porTipo=true
      </div>
      <button onclick="testEndpoint('/api/reportes/organizaciones?porTipo=true', 'response15')">
        Probar Endpoint
      </button>
      <pre id="response15" class="response"></pre>
    </div>
  </div>
</div>
<a href="http://localhost:8080">volver</a>
<script src="index.js"></script>
</body>
</html>